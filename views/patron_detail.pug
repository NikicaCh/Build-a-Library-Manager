extends layout

block content

  body
  for patron in patrons
    h1 Patron: Andrew Chalkley
    form(method="POST", action="/patrons/details/" + patron.id)
      p
        label(for='first_name') First Name
        input#first_name(name="first_name" type='text', value=patron.first_name)
        if(validation.first_name)
          p(class="validation")   First Name is required
      p
        label(for='last_name') Last Name
        input#last_name(name="last_name" type='text', value=patron.last_name)
        if(validation.last_name)
          p(class="validation")   Last Name is required
      p
        label(for='address')  Address
        input#address(name="address" type='text', value=patron.address)
        if(validation.address)
          p(class="validation")   Address is required
      p
        label(for='email') Email
        input#email(name="email" type='text', value=patron.email)
        if(validation.email)
          p(class="validation")   Email is required
      p
        label(for='library_id') Library ID
        input#library_id(name="library_id" type='text', value=patron.library_id)
        if(validation.library_id)
          p(class="validation")   Library Id is required
      p
        label(for='zip_code') Zip Code
        input#zip_code(name="zip_code" type='text', value=patron.zip_code)
        if(validation.zip_code)
          p(class="validation")   Zip Code is required
      p
        input(type='submit', value='Update')
    h2 Loan History
    table
      thead
        tr
          th Book
          th Patron 
          th Loaned on
          th Return by 
          th Returned on
          th Action
      tbody
      for loan in loans
        tr
          td
            a(href='book_detail.html') #{loan.Book.title}
          td
            a(href='patron_detail.html') #{loan.Patron.fist_name} #{loan.Patron.last_name}
          td #{loan.loaned_on}
          td #{loan.return_by}
          td #{loan.returned_on}
          td
            a.button(href='../../loans/return_book/' + loan.Book.id) Return Book